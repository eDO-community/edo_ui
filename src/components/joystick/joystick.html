<ion-grid no-padding>
  <ion-row align-item-center>
    <ion-col col-4 *ngIf="mode == JoystickMode.CARTESIAN" class="movements" align-item-center>
      <ion-row class="cartesian-button-set">
        <ion-col text-center align-self-center>
          <ion-grid no-padding class="square-dimensions">
            <ion-row justify-content-center>
              <ion-col col-4 class="axis-1 vertical-buttons">
                <button #a1p=holdRef [disabled]="a1n.value > 0" hold (holding)="onCartesianValueChange(0, -1)" (holdingCancel)="onCartesianValueChange(0, 0)" class="arrow-button axis-1-positive">
                    <!-- Up -->
                    <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                      <path class="arrow-button-svg-bg" d="M10,67.912l0,-60.256c0,-2.57 1.907,-4.656 4.257,-4.656l51.613,0c2.279,0 4.13,2.024 4.13,4.516l0,60.396l-30,11.088l-30,-11.088l0,0Z" />
                      <path class="arrow-button-svg-arrow" d="M40,21.315l12,12l-24,0l12,-12Z" />
                    </svg>
                    <!-- End Up -->
                </button>
              </ion-col>
            </ion-row>
            <ion-row justify-content-between class="axis-0">
              <ion-col class="bg-horizontal" col-4>
                <button #a0n="holdRef" [disabled]="a0p.value > 0" hold (holding)="onCartesianValueChange(1, -1)" (holdingCancel)="onCartesianValueChange(1, 0)" class="arrow-button axis-0-negative">
                  <!-- Left -->
                  <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                    <path class="arrow-button-svg-bg" d="M67.912,70l-60.256,0c-2.57,0 -4.656,-1.907 -4.656,-4.257l0,-51.613c0,-2.279 2.024,-4.13 4.516,-4.13l60.396,0l11.088,30l-11.088,30l0,0Z" />
                    <path class="arrow-button-svg-arrow" d="M21.315,40l12,-12l0,24l-12,-12Z" />
                    </svg>
                  <!-- END Left -->
                </button>
              </ion-col>
              <ion-col col-4>
                <!-- Colonna vuota -->
              </ion-col>
              <ion-col col-4>
                <button #a0p="holdRef" [disabled]="a0n.value > 0" hold (holding)="onCartesianValueChange(1, 1)" (holdingCancel)="onCartesianValueChange(1, 0)" class="arrow-button axis-0-positive">
                  <!-- Right -->
                  <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg" >
                    <path class="arrow-button-svg-bg" d="M12.088,10l60.256,0c2.57,0 4.656,1.907 4.656,4.257l0,51.613c0,2.279 -2.024,4.13 -4.516,4.13l-60.396,0l-11.088,-30l11.088,-30l0,0Z" />
                    <path class="arrow-button-svg-arrow" d="M58.685,40l-12,12l0,-24l12,12Z" />
                  </svg>
                  <!-- END Right -->
                </button>
              </ion-col>
            </ion-row>
            <ion-row justify-content-center>
              <ion-col col-4 class="axis-1">
                <button #a1n=holdRef [disabled]="a1p.value > 0" hold (holding)="onCartesianValueChange(0, 1)" (holdingCancel)="onCartesianValueChange(0, 0)" class="arrow-button axis-1-negative">
                  <!-- Down -->
                  <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <path class="arrow-button-svg-bg" d="M70,12.088l0,60.256c0,2.57 -1.907,4.656 -4.257,4.656l-51.613,0c-2.279,0 -4.13,-2.024 -4.13,-4.516l0,-60.396l30,-11.088l30,11.088l0,0Z" />
                    <path class="arrow-button-svg-arrow" d="M40,58.685l-12,-12l24,0l-12,12Z" />
                  </svg>
                  <!-- END Down -->
                </button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
        <ion-col col-3 class="axis-2" align-self-center>
          <div class="vertical-buttons">
            <button #a2p="holdRef" [disabled]="a2n.value > 0" hold (holding)="onCartesianValueChange(2, 1)" (holdingCancel)="onCartesianValueChange(2, 0)" class="arrow-button axis-2-positive">
              <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path class="arrow-button-svg-bg" d="M10,67.912l0,-60.256c0,-2.57 1.907,-4.656 4.257,-4.656l51.613,0c2.279,0 4.13,2.024 4.13,4.516l0,60.396l-30,11.088l-30,-11.088l0,0Z" />
                <path class="arrow-button-svg-arrow" d="M40,21.315l12,12l-24,0l12,-12Z" />
              </svg>
            </button>
            <button #a2n="holdRef" [disabled]="a2p.value > 0" hold (holding)="onCartesianValueChange(2, -1)" (holdingCancel)="onCartesianValueChange(2, 0)" class="arrow-button axis-2-negative">
              <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path class="arrow-button-svg-bg" d="M70,12.088l0,60.256c0,2.57 -1.907,4.656 -4.257,4.656l-51.613,0c-2.279,0 -4.13,-2.024 -4.13,-4.516l0,-60.396l30,-11.088l30,11.088l0,0Z" />
                <path class="arrow-button-svg-arrow" d="M40,58.685l-12,-12l24,0l-12,12Z" />
              </svg>
            </button>
          </div>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-4 *ngIf="mode == JoystickMode.JOINTS" class="movements" align-self-center>
      <ion-row>
        <ion-col>
          <div class="vertical-buttons">
            <button (click)="setCurrentJoint(currentJoint + 1, true)" class="arrow-button axis-2-positive">
              <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path class="arrow-button-svg-bg" d="M10,67.912l0,-60.256c0,-2.57 1.907,-4.656 4.257,-4.656l51.613,0c2.279,0 4.13,2.024 4.13,4.516l0,60.396l-30,11.088l-30,-11.088l0,0Z" />
                <path class="arrow-button-svg-arrow" d="M40,21.315l12,12l-24,0l12,-12Z" />
              </svg>
            </button>
            <button (click)="setCurrentJoint(currentJoint - 1, false)" class="arrow-button axis-2-negative">
              <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path class="arrow-button-svg-bg" d="M70,12.088l0,60.256c0,2.57 -1.907,4.656 -4.257,4.656l-51.613,0c-2.279,0 -4.13,-2.024 -4.13,-4.516l0,-60.396l30,-11.088l30,11.088l0,0Z" />
                <path class="arrow-button-svg-arrow" d="M40,58.685l-12,-12l24,0l-12,12Z" />
              </svg>
            </button>
          </div>
        </ion-col>
        <ion-col>
          <div class="square-dimensions">
              <img-map [src]="'assets/edo/joint-' + currentJoint + '.square.png'" [coords]="mapPoints" (mapclick)="setCurrentJoint($event, true)"
                (swipe)="onMapSwipe($event)">
              </img-map>
            </div>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-4 *ngIf="mode == JoystickMode.INPUT_JOINTS || mode == JoystickMode.INPUT_CARTESIAN" class="movements input-values" align-self-center>
      <ion-row class="input-tabs">
        <ion-col>
          <button ion-button small (click)="onSwitchInput(JoystickMode.INPUT_JOINTS)" [outline]="mode == JoystickMode.INPUT_CARTESIAN"><span translate>joystick-mode-joints</span></button>
        </ion-col>
        <ion-col>
          <button ion-button small (click)="onSwitchInput(JoystickMode.INPUT_CARTESIAN)" [outline]="mode == JoystickMode.INPUT_JOINTS"><span translate>joystick-mode-cartesian</span></button>
        </ion-col>
      </ion-row>
      <div *ngIf="mode == JoystickMode.INPUT_JOINTS">
        <ion-row>
          <ion-col col-6 *ngIf="ros.joints.joints_mask % 2 >= 1">
            <label (click)="inputActiveIndex = 0" [class.active]="inputActiveIndex == 0">
              <span>J1</span> {{ inputJoints[0] }} °
              <a *ngIf="inputActiveIndex == 0" class="input-values-clear" (click)=" inputJoints[0] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col col-6 *ngIf="ros.joints.joints_mask % 4 >= 2">
            <label (click)="inputActiveIndex = 1" [class.active]="inputActiveIndex == 1">
              <span>J2</span> {{ inputJoints[1] }} °
              <a *ngIf="inputActiveIndex == 1" class="input-values-clear" (click)=" inputJoints[1] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col col-6 *ngIf="ros.joints.joints_mask % 8 >= 4">
            <label (click)="inputActiveIndex = 2" [class.active]="inputActiveIndex == 2">
              <span>J3</span> {{ inputJoints[2] }} °
              <a *ngIf="inputActiveIndex == 2" class="input-values-clear" (click)=" inputJoints[2] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col col-6 *ngIf="ros.joints.joints_mask % 16 >= 8">
            <label (click)="inputActiveIndex = 3" [class.active]="inputActiveIndex == 3">
              <span>J4</span> {{ inputJoints[3] }} °
              <a *ngIf="inputActiveIndex == 3" class="input-values-clear" (click)=" inputJoints[3] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col col-6 *ngIf="ros.joints.joints_mask % 32 >= 16">
            <label (click)="inputActiveIndex = 4" [class.active]="inputActiveIndex == 4">
              <span>J5</span> {{ inputJoints[4] }} °
              <a *ngIf="inputActiveIndex == 4" class="input-values-clear" (click)=" inputJoints[4] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col col-6 *ngIf="ros.joints.joints_mask % 64 >= 32">
            <label (click)="inputActiveIndex = 5" [class.active]="inputActiveIndex == 5">
              <span>J6</span> {{ inputJoints[5] }} °
              <a *ngIf="inputActiveIndex == 5" class="input-values-clear" (click)=" inputJoints[5] = '' ">&times;</a>
            </label>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="mode == JoystickMode.INPUT_CARTESIAN">
        <ion-row>
          <ion-col>
            <label (click)="inputActiveIndex = 0" [class.active]="inputActiveIndex == 0">
              <span>X</span> {{ inputCartesian[0] }} mm
              <a *ngIf="inputActiveIndex == 0" class="input-values-clear" (click)=" inputCartesian[0] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col>
            <label (click)="inputActiveIndex = 3" [class.active]="inputActiveIndex == 3">
              <span>A</span> {{ inputCartesian[3] }} °
              <a *ngIf="inputActiveIndex == 3" class="input-values-clear" (click)=" inputCartesian[3] = '' ">&times;</a>
            </label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <label (click)="inputActiveIndex = 1" [class.active]="inputActiveIndex == 1">
              <span>Y</span> {{ inputCartesian[1] }} mm
              <a *ngIf="inputActiveIndex == 1" class="input-values-clear" (click)=" inputCartesian[1] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col>
            <label (click)="inputActiveIndex = 4" [class.active]="inputActiveIndex == 4">
              <span>E</span> {{ inputCartesian[4] }} °
              <a *ngIf="inputActiveIndex == 4" class="input-values-clear" (click)=" inputCartesian[4] = '' ">&times;</a>
            </label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <label (click)="inputActiveIndex = 2" [class.active]="inputActiveIndex == 2">
              <span>Z</span> {{ inputCartesian[2] }} mm
              <a *ngIf="inputActiveIndex == 2" class="input-values-clear" (click)=" inputCartesian[2] = '' ">&times;</a>
            </label>
          </ion-col>
          <ion-col>
            <label (click)="inputActiveIndex = 5" [class.active]="inputActiveIndex == 5">
              <span>R</span> {{ inputCartesian[5] }} °
              <a *ngIf="inputActiveIndex == 5" class="input-values-clear" (click)=" inputCartesian[5] = '' ">&times;</a>
            </label>
          </ion-col>
        </ion-row>
      </div>
      <ion-row>
        <ion-col col-6 *ngIf="ros.joints.joints_mask % 128 >= 64">
          <label (click)="inputActiveIndex = 6" [class.active]="inputActiveIndex == 6">
            <span>J7</span> {{ inputJoints[6] }} mm
            <a *ngIf="inputActiveIndex == 6" class="input-values-clear" (click)=" inputJoints[6] = '' ">&times;</a>
          </label>
        </ion-col>
        <ion-col col-6 *ngIf="ros.joints.joints_mask % 256 >= 128">
          <label (click)="inputActiveIndex = 7" [class.active]="inputActiveIndex == 7">
            <span>J8</span> {{ inputJoints[7] }} °
            <a *ngIf="inputActiveIndex == 7" class="input-values-clear" (click)=" inputJoints[7] = '' ">&times;</a>
          </label>
        </ion-col>
        <ion-col col-6 *ngIf="ros.joints.joints_mask % 512 >= 256">
          <label (click)="inputActiveIndex = 8" [class.active]="inputActiveIndex == 8">
            <span>J9</span> {{ inputJoints[8] }} °
            <a *ngIf="inputActiveIndex == 8" class="input-values-clear" (click)=" inputJoints[8] = '' ">&times;</a>
          </label>
        </ion-col>
        <ion-col col-6 *ngIf="ros.joints.joints_mask % 1024 >= 512">
          <label (click)="inputActiveIndex = 9" [class.active]="inputActiveIndex == 9">
            <span>J10</span> {{ inputJoints[9] }} °
            <a *ngIf="inputActiveIndex == 9" class="input-values-clear" (click)=" inputJoints[9] = '' ">&times;</a>
          </label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <button ion-button translate  hold (holdingStart)="onInputGo($event)" (holdingCancel)="onStop($event)"><span translate>joystick-goto-point</span></button>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-4 class="movement-options" align-self-center>
      <ion-row class="movement-tabs">
        <ion-col>
          <button ion-button block [outline]="mode !== JoystickMode.CARTESIAN" (click)="onSwitchInput(JoystickMode.CARTESIAN)"><span translate>joystick-mode-cartesian</span></button>
        </ion-col>
        <ion-col>
          <button ion-button block [outline]="mode !== JoystickMode.JOINTS" (click)="onSwitchInput(JoystickMode.JOINTS)"><span translate>joystick-mode-joints</span></button>
        </ion-col>
        <ion-col>
          <button ion-button block [outline]="mode == JoystickMode.JOINTS || mode == JoystickMode.CARTESIAN" (click)="onSwitchInput(JoystickMode.INPUT_JOINTS)"><span translate>joystick-mode-input</span></button>
        </ion-col>
      </ion-row>
      <ion-row class="gripper-container" *ngIf="mode == JoystickMode.JOINTS && ros.joints.joints_mask % 128 >= 64">
        <ion-col col-2 align-self-center>
          <img src="assets/img/gripper-angle.svg" />
        </ion-col>
        <ion-col col-5>
          <h1 text-center class="gripper-value">{{(ros.joints.joints !== undefined && ros.joints.joints !== null && ros.joints.joints[6] !== undefined && ros.joints.joints[6] !== null) ? (ros.joints.joints[6].position | edonumber) : null }} mm</h1>
          <span class="gripper-lable" translate>joystick-gripper-opening</span>
        </ion-col>
        <ion-col col-5 class="gripper-buttons">
          <button ion-button icon-only #apn="holdRef" [disabled]="app.value > 0"  hold (holding)="onJointsValueChange(6, -1)" (holdingCancel)="onJointsValueChange(6, 0)">
              <ion-icon name="remove"></ion-icon>
          </button>
          <button ion-button icon-only #app="holdRef" [disabled]="apn.value > 0"  hold (holding)="onJointsValueChange(6, 1)" (holdingCancel)="onJointsValueChange(6, 0)">
              <ion-icon name="add"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row class="gripper-container" *ngIf="mode == JoystickMode.CARTESIAN && ros.joints.joints_mask % 128 >= 64">
        <ion-col col-2 align-self-center>
          <img src="assets/img/gripper-angle.svg" />
        </ion-col>
        <ion-col col-5>
          <h1 text-center class="gripper-value">{{(ros.joints.joints !== undefined && ros.joints.joints !== null && ros.joints.joints[6] !== undefined && ros.joints.joints[6] !== null) ? (ros.joints.joints[6].position | edonumber) : null }} mm</h1>
          <span class="gripper-lable" translate>joystick-gripper-opening</span>
        </ion-col>
        <ion-col col-5 class="gripper-buttons">
          <button ion-button icon-only #apn="holdRef" [disabled]="app.value > 0"  hold (holding)="onXTNDPosJointsValueChange(6, -1)" (holdingCancel)="onXTNDPosJointsValueChange(6, 0)">
              <ion-icon name="remove"></ion-icon>
          </button>
          <button ion-button icon-only #app="holdRef" [disabled]="apn.value > 0"  hold (holding)="onXTNDPosJointsValueChange(6, 1)" (holdingCancel)="onXTNDPosJointsValueChange(6, 0)">
              <ion-icon name="add"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <edo-range-wrapper [speed]="speed">
            <ion-range min="0" max="100" step="5" snaps="true" [(ngModel)]="speed">
            </ion-range>
          </edo-range-wrapper>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <button class="joystick-reset-button" ion-button block color="primary" hold (holdingStart)="onReset($event)" (holdingCancel)="onStop($event)"><span translate>joystick-reset</span></button>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-4 *ngIf="mode == JoystickMode.CARTESIAN" class="joint-button-set movements" align-item-center text-center>
      <ion-row class="rotation-button-set" justify-content-center>
        <ion-col align-self-center>
          <div class="rotation-axis-selector">

              <svg width="100%" height="100%" viewBox="0 0 166 166" version="1.1" xmlns="http://www.w3.org/2000/svg" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                <g>
                    <circle style="fill:none; stroke-width: 2; stroke: #f0f4f9;" cx="82.691" cy="101.438" r="50"/>
                    <!-- Letters -->
                    <path [style.fill]="currentAxis == 3 ? 'rgb(0, 70, 173)' : 'rgb(180,196,211)'"
                    d="M9.823,126.806c-0.088,-0.175 -0.159,-0.488 -0.214,-0.939c-0.709,0.736 -1.554,1.104 -2.537,1.104c-0.879,0 -1.6,-0.248 -2.163,-0.745c-0.563,-0.497 -0.844,-1.127 -0.844,-1.891c0,-0.928 0.353,-1.649 1.059,-2.162c0.705,-0.514 1.698,-0.77 2.977,-0.77l1.483,0l0,-0.701c0,-0.532 -0.159,-0.956 -0.478,-1.272c-0.318,-0.316 -0.788,-0.474 -1.408,-0.474c-0.544,0 -1,0.137 -1.368,0.412c-0.368,0.275 -0.552,0.607 -0.552,0.997l-1.532,0c0,-0.445 0.158,-0.875 0.474,-1.289c0.316,-0.415 0.744,-0.743 1.285,-0.985c0.541,-0.241 1.135,-0.362 1.783,-0.362c1.027,0 1.832,0.256 2.414,0.77c0.582,0.513 0.884,1.22 0.906,2.121l0,4.102c0,0.819 0.104,1.469 0.313,1.953l0,0.131l-1.598,0Zm-2.529,-1.161c0.478,0 0.931,-0.124 1.359,-0.371c0.429,-0.247 0.739,-0.568 0.931,-0.964l0,-1.828l-1.194,0c-1.867,0 -2.801,0.546 -2.801,1.639c0,0.478 0.159,0.851 0.478,1.12c0.318,0.269 0.727,0.404 1.227,0.404Z" style="fill:#b4c4d3;fill-rule:nonzero;"/>
                    <path [style.fill]="currentAxis == 4 ? 'rgb(0, 70, 173)' : 'rgb(180,196,211)'"
                    d="M161.305,119.343c-0.231,-0.038 -0.481,-0.057 -0.75,-0.057c-0.999,0 -1.677,0.425 -2.034,1.276l0,6.327l-1.524,0l0,-8.913l1.483,0l0.024,1.03c0.5,-0.797 1.208,-1.195 2.126,-1.195c0.296,0 0.521,0.039 0.675,0.115l0,1.417Z" style="fill:#b4c4d3;fill-rule:nonzero;"/>
                    <path [style.fill]="currentAxis == 5 ? 'rgb(0, 70, 173)' : 'rgb(180,196,211)'"
                    d="M101.677,19.416c-1.208,0 -2.191,-0.397 -2.949,-1.19c-0.758,-0.794 -1.137,-1.855 -1.137,-3.184l0,-0.28c0,-0.884 0.169,-1.674 0.507,-2.368c0.338,-0.695 0.81,-1.239 1.417,-1.631c0.607,-0.393 1.264,-0.589 1.973,-0.589c1.159,0 2.059,0.381 2.702,1.145c0.642,0.763 0.964,1.856 0.964,3.278l0,0.635l-6.039,0c0.022,0.878 0.279,1.588 0.771,2.129c0.491,0.541 1.116,0.811 1.874,0.811c0.538,0 0.994,-0.109 1.367,-0.329c0.374,-0.22 0.7,-0.511 0.98,-0.873l0.931,0.725c-0.747,1.147 -1.867,1.721 -3.361,1.721Zm-0.189,-7.99c-0.615,0 -1.131,0.224 -1.549,0.671c-0.417,0.448 -0.675,1.075 -0.774,1.882l4.465,0l0,-0.115c-0.044,-0.774 -0.253,-1.374 -0.626,-1.8c-0.374,-0.425 -0.879,-0.638 -1.516,-0.638Z" style="fill:#b4c4d3;fill-rule:nonzero;"/>
                    <!-- Arrows -->
                    <path id="axis-3" [style.fill]="currentAxis == 3 ? 'rgb(0, 70, 173)' : 'rgb(180,196,211)'"
                    d="M7.762,143.544l74.429,-42.972c0.333,0.578 0.667,1.155 1,1.732l-74.443,42.98c0.539,0.958 1.077,1.917 1.626,2.869c0.046,0.086 0.076,0.176 0.081,0.274c0.012,0.267 -0.159,0.517 -0.412,0.602c-0.093,0.031 -0.188,0.036 -0.285,0.024c-2.09,-0.395 -4.151,-0.932 -6.227,-1.398c-0.068,-0.018 -0.132,-0.042 -0.191,-0.08c-0.154,-0.097 -0.257,-0.263 -0.277,-0.444c-0.008,-0.07 -0.001,-0.138 0.012,-0.206c0.564,-2.052 1.266,-4.063 1.9,-6.094c0.018,-0.052 0.04,-0.102 0.07,-0.149c0.075,-0.115 0.189,-0.203 0.32,-0.246c0.053,-0.017 0.107,-0.025 0.162,-0.029c0.041,-0.001 0.041,-0.001 0.082,0.002c0.041,0.005 0.081,0.012 0.121,0.024c0.135,0.041 0.243,0.128 0.325,0.241c0.589,0.944 1.153,1.904 1.707,2.87Z"/>
                    <path id="axis-4" [style.fill]="currentAxis == 4 ? 'rgb(0, 70, 173)' : 'rgb(180,196,211)'"
                    d="M157.634,143.552c0.56,-0.946 1.122,-1.891 1.671,-2.843c0.082,-0.131 0.198,-0.23 0.347,-0.276c0.039,-0.012 0.079,-0.019 0.121,-0.024c0.041,-0.003 0.04,-0.003 0.082,-0.002c0.041,0.003 0.082,0.007 0.122,0.018c0.134,0.033 0.254,0.113 0.336,0.223c0.034,0.045 0.058,0.093 0.08,0.144c0.702,2.008 1.269,4.061 1.902,6.092c0.019,0.068 0.03,0.135 0.027,0.206c-0.007,0.182 -0.099,0.354 -0.246,0.462c-0.057,0.042 -0.119,0.07 -0.185,0.092c-2.059,0.538 -4.151,0.935 -6.227,1.402c-0.096,0.018 -0.191,0.02 -0.286,-0.005c-0.258,-0.068 -0.446,-0.305 -0.452,-0.573c-0.002,-0.098 0.022,-0.19 0.062,-0.278c0.523,-0.983 1.072,-1.951 1.632,-2.914l-74.429,-42.972l1,-1.732l74.443,42.98Z"/>
                    <path id="axis-5" [style.fill]="currentAxis == 5 ? 'rgb(0, 70, 173)' : 'rgb(180,196,211)'"
                    d="M81.691,15.481c-1.1,-0.013 -2.199,-0.028 -3.298,-0.028c-0.092,-0.004 -0.179,-0.02 -0.262,-0.06c-0.251,-0.12 -0.389,-0.407 -0.328,-0.678c0.02,-0.09 0.062,-0.169 0.116,-0.243c1.383,-1.618 2.884,-3.131 4.327,-4.696c0.033,-0.033 0.065,-0.063 0.103,-0.089c0.09,-0.062 0.189,-0.092 0.296,-0.104c0.046,-0.002 0.046,-0.002 0.091,0c0.092,0.01 0.178,0.033 0.258,0.08c0.04,0.023 0.075,0.051 0.11,0.081c1.5,1.51 2.887,3.129 4.33,4.694c0.059,0.07 0.106,0.145 0.133,0.233c0.082,0.267 -0.035,0.562 -0.276,0.701c-0.08,0.046 -0.166,0.069 -0.257,0.079c-1.114,0.042 -2.228,0.051 -3.343,0.048l0,85.939l-2,0l0,-85.957Z"/>
                    <circle style="fill:rgb(0, 70, 173);" cx="82.691" cy="101.438" r="3.918"/>
                    <!-- Click areas -->
                    <g stroke-width="40" fill="none" stroke="#000000" opacity="0">
                        <rect id="click-area-axis-3" width="60" height="20" x="10" y="120" (click)="onAxisClick($event, 3)" />
                        <rect id="click-area-axis-4" width="60" height="20" x="95" y="120" (click)="onAxisClick($event, 4)" />
                        <rect id="click-area-axis-5" width="20" height="60" x="72" y="20" (click)="onAxisClick($event, 5)" />
                    </g>
                </g>
            </svg>

          </div>
          </ion-col>
          <ion-col col-4 align-self-center class="joint-buttons">
            <!--
            <button #pos="holdRef" [disabled]="neg.value > 0" hold (holding)="onCartesianValueChange(currentAxis, 1)" (holdingCancel)="onCartesianValueChange(currentAxis, 0)" class="arrow-button " >
              <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path class="arrow-button-svg-bg" d="M10,67.912l0,-60.256c0,-2.57 1.907,-4.656 4.257,-4.656l51.613,0c2.279,0 4.13,2.024 4.13,4.516l0,60.396l-30,11.088l-30,-11.088l0,0Z" />
                <path class="arrow-button-svg-arrow" d="M40,21.315l12,12l-24,0l12,-12Z" />
              </svg>
            </button>
            <button #neg="holdRef" [disabled]="pos.value > 0" hold (holding)="onCartesianValueChange(currentAxis, -1)" (holdingCancel)="onCartesianValueChange(currentAxis, 0)" class="arrow-button">
              <svg class="arrow-button-svg" width="100%" height="100%" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path class="arrow-button-svg-bg" d="M70,12.088l0,60.256c0,2.57 -1.907,4.656 -4.257,4.656l-51.613,0c-2.279,0 -4.13,-2.024 -4.13,-4.516l0,-60.396l30,-11.088l30,11.088l0,0Z" />
                <path class="arrow-button-svg-arrow" d="M40,58.685l-12,-12l24,0l-12,12Z" />
              </svg>
            </button>
            -->
            <ion-row>
                <button id="jogadd" ion-button icon-only #pos="holdRef" [disabled]="neg.holdingCount > 0" hold (holding)="onCartesianValueChange(currentAxis, 1)" (holdingCancel)="onCartesianValueChange(currentAxis, 0)">
                  <ion-icon name="add"></ion-icon>
                </button>
              </ion-row>
              <ion-row>
                <button ion-button icon-only #neg="holdRef" [disabled]="pos.holdingCount > 0" hold (holding)="onCartesianValueChange(currentAxis, -1)" (holdingCancel)="onCartesianValueChange(currentAxis, 0)">
                  <ion-icon name="remove"></ion-icon>
                </button>
              </ion-row>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-4 *ngIf="mode == JoystickMode.JOINTS" class="joint-button-set movements">
      <ion-row align-item-center text-center>
        <ion-col col-8 align-self-center>
          <h1 class="joint-value">{{(ros.joints.joints !== undefined && ros.joints.joints !== null && ros.joints.joints[currentJoint] !== undefined && ros.joints.joints[currentJoint] !== null) ? (ros.joints.joints[currentJoint].position | edonumber) : null }}°</h1>
          <ion-badge>J{{ currentJoint + 1 }}</ion-badge>
        </ion-col>
        <ion-col col-4 align-self-center class="joint-buttons">
          <ion-row>
            <button id="jogadd" ion-button icon-only #pos="holdRef" [disabled]="neg.holdingCount > 0" hold (holding)="onJointsValueChange(currentJoint, 1)" (holdingCancel)="onJointsValueChange(currentJoint, 0)">
              <ion-icon name="add"></ion-icon>
            </button>
          </ion-row>
          <ion-row>
            <button ion-button icon-only #neg="holdRef" [disabled]="pos.holdingCount > 0" hold (holding)="onJointsValueChange(currentJoint, -1)" (holdingCancel)="onJointsValueChange(currentJoint, 0)">
              <ion-icon name="remove"></ion-icon>
            </button>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-col>
    <!-- Numeric keypad -->
    <ion-col col-4 *ngIf="mode == JoystickMode.INPUT_JOINTS || mode == JoystickMode.INPUT_CARTESIAN">
      <edo-numeric-keypad [value]="(mode == JoystickMode.INPUT_JOINTS || inputActiveIndex >= 6) ? inputJoints[inputActiveIndex] : inputCartesian[inputActiveIndex]"
        (valueChange)="onKeypadInputChange($event)"></edo-numeric-keypad>
    </ion-col>
    <!-- END Numeric keypad -->
  </ion-row>
</ion-grid>
